
12.20---8:50
创建了拆分窗口；

12.21---8:30
拖拽--放下--创建的模式 未实现；
点击模块--左键点击--创建的模式，实现，但创建位置出现问题；

12.21--9:40
将“左键点击创建“”换成“右键点击创建”，仍没有效果；
添加一个控制量，但创建完后，需再次点击空白处。

2017.1.7
通过维护多个变量，保存如Vector向量，然后通过Vector.at(i)调用响应的变量进行创建和移动操作

2017.1.10

变迁的创建，多个变量的维护，与移动

2017.1.11
第一个添加的库所和变迁的位置有误

2017.1.13
1.11的问题解决
并实现：连线
但，重绘后连线被擦除。

2017.2.10
完善了连线功能；
但，重绘后连线仍会被擦除。

2017.2.10 21:45
连接线重绘后被擦除问题基本解决，但仍存在新的问题:控件闪烁问题，和被连接模型首次拖拽时位置跳变问题。

2017.2.13 16:30
闪烁问题：采用了CImageList中的DragBegin、DragEnter、DragMove、DragLeave和DragEnd方法实现拖动效果，
          模型会在拖动完成时被重绘一次，而不是在拖动过程中反复被重绘，因此拖动过程中的控件闪烁问题基本解决。
被连接模型首次拖拽时位置跳变问题：不再采用原来的拖动方法，该问题未再次出现。

2017.2.14 15:40
去掉了“在View类中维护足够多的CModel和CPNTransition对象来应对创建足够多的模型的问题”，该为了在创建完对象后，立刻将其保存到
Vector中的方法；

下一步需要解决：离散库所初始化的问题

2017.2.15 20:00
完成离散库所的初始问题。

下一步进行：推演算法的初探

2017.2.20 21:30
完成推演算法的初探。

下一步：时延、随机库所的初始化

2017.2.22
完成部分输入变量的获取，很乱，需要理一理

2017.2.27 11:00
完成输入值的获取

下一步：在View类中实现输入值的赋值与更新

2017.2.27 21:30

采用赋值的方法，完成对输入值的赋值和更新；
但是无法实现实时更新，在推演某些网络结构的时候会出错。

因此，需要找到一种可以让变量实时更新的方法。


2017.2.27 15:00
1.并未找到一种让变量实时更新的方法，只能妥协为变量在每次遍历库所后更新一次。

2.本可以推演带控制库所、和离散库所的Petri网；但对于时间库所和随机库所，在编程的过程中，才发现
需要先考虑连续库所的输出方式等内容，才能进行具体考虑。

3.因此，关于输入、输出值的赋值问题，还需要后续进一步考虑。！！！！！！！！！！！！！！！！！！！！！！！！！！

下一步应该先考虑连续库所和时间库所的实现，以及推演算法。

2017.3.7
利用MFC-MDI自动生成了一个文档编辑器，作为连续库所的文档编辑器；
并完成为连续库所创建Lua脚本和编辑、保存Lua脚本的功能。

下一步，Lua与C的交互

2017.3.8
完成了Lua和C的基本交互，但在 连续库所定义输入输出变量的部分，设计的不是很合理，需要进一步改进

2017.3.9
对输入输出表的形式进一步改进，使表的更新更加明确；

但发现关于连续库所的输入输出值的形式需要进一步考虑；

2017.3.13

备份（不知道是否备份，先备份一个程序）；

下一步，尝试HSTPN仿真算法

2017.3.14 11:00
实现了一种HSTPN推演算法，但测试时延库所时发现了不符合逻辑的地方，需要修改

2017.3.14 17:00

更改了算法，测试时延库所时似乎没有错误，但测试连续库所+时延库所时，发生错误，算法需要进一步更改

2017.3.14 22:30

对算法进行了进一步的修改，测试“连续库所+时延库所”，没有错误


2017.3.16
想创建一个仿真工具栏，不成功

2017.3.16 22:20
创建了一个仿真工具栏，但无法很好的显示“步长”两个字。

2017.3.17 12:10

希望实现“Petri网设置”的保存和恢复，但没有实现
希望实现“工具栏按钮提示功能”，但没有实现

2017.3.19 17:00

在不关闭应用程序实例的情况下，保存和恢复可以实现，但没有关注“输入输出列表”，连续库所可能会出错；

下一步，分析如何保存文件。

2017.3.20 9:00

为明确需要保存的内容，先将HSTPN类总结出来，也为了方便以后的使用。

2017.3.20 9:50

修改了CModel--》CPlace

2017.3.21 11:20
添加了tinyxml的头文件，没有问题

接下来实现保存文件的操作。

2017.3.22 11:00

基本实现保存文件信息的功能，但没有记录模型的位置，仍需要修改。

2017.3.22 17:00

1.记录了模型的位置
2.新建文件功能--仅实现对库所、变迁、有向弧集合的清空和内存的释放

需要进一步完善：1.当文件存在时，不弹出保存对话框；
                2.当新建文件时，如果视图类中已有文件，提醒用户是否保存现有文件。（读取仿真文件时完成）

2017.3.22 20:50

现在保存的仿真文件（hst文件）是不完整的，因为没有保存Lua文件中的内容；

因此，下一步要实现Lua文件中内容的保存。

2017.3.22 22:00

已完成将Lua文件中的内容写入到*.hst文件中

下一步：需要实现文件的读取，以测试仿真文件保存的是否正确。

2017.3.23 10:00

“打开”和“新建”操作的提醒用户保存的功能已完成；

下一步开始读取文件功能的实现。

2017.3.23 21:00

读取功能还有读取Lua文件的内容没有完成；
有向弧没有画出来。

2017.3.25

准备对模块选择对话框做一些更改，还未做

2017.3.26 21:00

1.模块选择对话框更改--做了些尝试，没有完善
2.可以画出有向弧，但Lua文件的内容还未读取

下一步，读取Lua文件的内容，然后进行测试

2017.3.27 19:40

1.有向弧能够顺利画出，Lua文件能够顺利读取；
2.选择模块的图标已经绘制完成

下一步，先实现tree Control控件的消息响应

2017.3.27 21:00

完成tree Control控件的消息响应。

下一步，1.完善保存功能--保存路径
        2.测试打开功能

2017.3.28

完善了保存功能--保存路径；

接下来：测试打开功能

2017.3.29 20:00

测试完毕，更改了一些错误，测试没有发现明显错误；

下一步完成：删除操作

2017.3.30 10:30

存在内存泄露问题，主要是读写文件造成的；解决了一部分，还有一小部分没有解决

下一步：删除操作

2017.3.30 11:30

在删除操作前，对模型名称的显示做了调整

2017.4.1 8:50

在输入输出列表值更新的时候出错，没有复制好

2017.4.3 17:40

上面的问题：解决方法就是把IOValue又改成了IOValue*；

删除功能基本实现，未发现明显的错误。

下一步：1）测试和优化删除功能。
        2）HSTPN Tree

2017.4.3 21:40

HSTPN Tree实现了显示的功能

2017.4.4 11:00

删除功能基本就这样了

下一步：将各层细化，将Vector_Place和Vector_Trans保存至C__Doc类中

2017.4.4 16:00

先保存一个版本

下一步：将各层细化，将Vector_Place和Vector_Trans保存至C__Doc类中

2017.4.5 9:20

基本解决GDI对象增加问题。

下一步：将各层细化，将Vector_Place和Vector_Trans保存至C__Doc类中

2017.4.5 17:10

将Vector_Place/Vector_Trans/arr_Arrow移动到了CHSTPN_SYSDoc类中

下一步：将文件保存、打开、新建操作转移到CHSTPN_SYSDoc类中

2017.4.5 21:00

将文件保存、打开、新建操作转移到CHSTPN_SYSDoc类中

下一步：将删除操作转移至CHSTPN_SYSDoc类中（没有做！！！！！！！！！！！）

2017.4.6 19:30

创建了CHSTPN_SYSSim类，作为仿真分析层的主要实现类；
将HSTPN推演算法移植到了该类；

2017.4.18 16:40

完成：孤立点检测算法；
下一步：检测报告展示对话框

2017.4.19 10:30

完成检测报告展示对话框初探



2017.5.7

完成仿真程序的暂停与停止。

2017.5.8 20:30

实现了关联矩阵的求解

但是，关联矩阵求解过程中没有检测是否为纯网。

2017.5.10 22:00
希望加一个滚动条，但遇到很多问题，主要是逻辑坐标和设备坐标的不统一，还有库所和变迁控件的场景永远以客户区（物理坐标空间）

统一比较困难

暂完成创建过程，未见明显错误

下一步，如何控制打开位置的问题。

2017.5.11 16:30

对应一半可见、一半不可见的有向弧，出现连接位置的错误---目前更改了有向弧连接点的确定方法，基本上解决了该问题

下一步，保存与打开的问题。

2017.5.17 21:30

完成了上述模型保存与打开功能的完善。

下一步：删除“菜单--工具”中多余的分析项，在关联句子求解时增加纯网检测。


2017.5.18 11:10

完成关联矩阵求解中的纯网检测；

下一步，删除“菜单--工具”中多余的分析项，完善关联矩阵的展示形式（以表格形式）

2017.5.18 15:00


删除了“菜单--工具”中多余的分析项；

下一步，完善关联矩阵的展示形式

2017.5.18 22:10

完善了关联矩阵的展示形式

下一步：冲突、冲撞

2017.5.25 14:20

决定先做数据的显示形式；

该版本，更改了库所和变迁的形状；

下一步：完善有向弧的连接点。

2017.5.25 22:20

有向弧的连接点完善成功。

下一步：改善随机库所的规则、连续库所的输入输出列表等。

2017.5.26 10:00

更改了随机库所的规则

下一步：规划和改善输入输出列表。

2017.5.26 19:40

放弃完善输入输出列表。

下一步：设计输出模块--矩阵输出模块show matrix模块

2017.5.26 22:00

完成了ShowMatrix模块的基本创建

下一步：1）完善其外形
        2）完善其拖动
        3）完善保存到vector_outputModel

2017.5.27 15:10

完成了其外形，完成了拖动操作，保存到了vector_outputModel

下一步：1）记录随机库所的产生的随机数；
        2）更改并完善库所的参数列表（输入输出列表）

2017.5.27 16:10

删除了arryInputData、arryOutputData。

下一步继续：1）记录随机库所的产生的随机数；
            2）更改并完善库所的参数列表（输入输出列表）

2017.5.31 17:20

完成了1）记录随机库所的产生的随机数；
      2）更改并完善库所的参数列表（输入输出列表）

下一步，尝试输出，测试，寻找问题。

2017.6.1 9:40

将数据进行了输出，深感需要改进的东西还很多；

下一步：数据展示模块。

2017.6.3 9:40

完成了数据展示模块的m_caption设置，数据展示模块中的OutPNname及vec_OutValue的获取；

下一步：1）设计一种数据结构，用于保存数据；
        2）在推演函数的同时完成赋值；

2017.6.4.15:20

完成了1）保存数据的数据结构的设计；2）在推演函数中进行了调用；

下一步：1）在DlagSMat_OutValue表格中展示。

2017.6.05 10:30

完成了数据的展示；

下一步：设计一种数据文件，完成数据的保存。

2017.6.6 15:00

完成了将输出的数据保存为*.csv文件；

下一步：将ShowMatrix模块的信息保存到*.hst文件中。

2017.6.7 9:00

完成了将ShowMatrix模块保存到*.hst文件并打开。

下一步：进一步实例验证，并完善。

2017.6.10 9:20

进一步完善了ShowMatrix模块的打开与保存。

下一步：进一步验证。

2017.6.13

测试一个实例：交通灯系统

发现诸多问题，不知如何更改

下一步：尝试做一些更改。

2017.6.14 15:20

测试简单的交通灯系统，发现了组多问题，先对HSTPN的推演算法进行了整理；

下一步：对推演算法进行更改，并加入步长和总时间的概念

2017.6.15 16:00

完成了：1）时延库所加入一个d_TimeTS变量；
	2）“仿真工具栏”中增加一个输入“仿真时间”的编辑框；
	3）更改了推演引擎（算法）；

2017.6.17 11:10

完成了：1）更改推演引擎，更改为只有Pactived中含有连续库所和时延库所时更新仿真时钟SimClock，也只有上述情况时才赋值给输出模块；
	2）将打开文件的名字写在了MainFrame的标题上

2017.6.19  10:40

完成了：1）ShowMatrix模块在文件新建、打开时的响应处理；
	2）ShowMatrix模块的删除。

2017.6.20 10:20

完成了：1）当Lua函数在仿真过程中报错时，通过设置Doc类中的CEvent事件为有信号状态，从而实现结束仿真线程的功能。

下一步：点击Reset初始设置按钮后，ShowMatrix模块没有清空。

2017.6.20 15:50

完成了：1）点击Reset初始设置按钮后，ShowMatrix模块清空。

下一步：当点击“终止”按钮后，网络恢复到初始状态（未做，后来想可能不需要实现）


2017.6.26 20:50 
最近写申请书这样的事，一直耽误了软件的进度，可以说自5月初到现在，软件没有太多实际的进展，作PPT，写申请书，这些破事总是打断编程的思路；

偶尔对软件做一些常识，把自己都搞蒙了，因此，先做一个备份，等这堆破事结束后，在将这个版本拿出来继续编。

这堆破事结束后都7月4/5号之后了，妹的，不知道还能不能写。


2017.6.28 21:30

在奴役和压迫的夹缝中，做了一点点工作，心好累：
1）完成了“输入输出表”通过“添加”和“删除”按钮，来添加变量和删除变量。


下一步：不知道干啥，因为没有时间规划，没有时间思考，全他妈破事。

2017.6.29 16:50

完成了：1）实现了控制库所的旋转，即所谓的突控型控制库所和拦控型控制库所的转换；

	2）进一步完善保存与打开功能。

2017.7.7

完成了：1）Lua函数的错误，以弹出对话框的方式给出。

2017.07.17 21:30

完成了:1）构建一副“输出至文件”用到的位图；
      2）编辑CCTRLShowMatrix类，增加一个“输出至文件”的类型；
      3）编辑CHSTPN_SYSView类，添加“输出至文件”模块的“创建”功能；

下一步：完成在HSTPN仿真过程中，不断将产生数据写入csv文件。


2017.07.18 15:40

完成了：1）在HSTPN仿真过程中，不断将产生数据写入csv文件；

下一步：解决其中存在的一个问题----当再次打开choosevalue 对话框时，其中的
	变量选择的树控件，上次选中的节点没有处于被选中状态，造成了vec_OutValue
	被赋值为空。

2017.07.19 16:30

完成了：1）上一版本遗留问题；
	2）OUT_TOFILE模块的保存与打开。

2017.07.20 10:30

完成了：1）增加一个仿真进度条，来显示仿真进度。


2017.9.04 15:00

将连续库所最多运行输出10个参数，改为20个

2017.9.08 10:45

随机库所产生随机数出现了问题，更改完成了。

2017.9.15 

改变了时延库所的时间产生机制，可以通过设定上下区间，产生服从正态分布的随机数。

2017.10.19 20:40

1. 将输出变量可设置的参数个数增加到50个
2. 将LuaEditor的路径进行了更改，从程序的上一级路径更改到了当前路径
3. 更改了Bug（无论文件如何被移动，都不需要更改hst文件中的路径）
4. 为”保存当前pn状态“和”恢复pn状态“两个按钮都增加了提醒对话框。


2017.12.16 16:20
1.完成了局部变量表和全局变量表中变量的创建，变量各个选项的设置；

2017.12.16 19:50
将局部变量表arryIOputData中的变量，分别放在arryInputofLua和arryOutputofLua中；

2017.12.17 11:00
去掉了库所属性编辑窗口中的“输入/输出列表”选项卡；

2017.12.19 15:40
检验此时数据输出没有发现问题；
完成编写推演过程中，数据输出的过程，但没有实例测试。

2017.12.20 17:10
初步检测了数据输出的正确性；可以输出全局变量；
更改了两种数据输出节点的相关代码。

2017.12.21 22:10
完成了保存功能。

2017.12.26
完善了打开功能。

2017.12.29
完成了每次打开hst文件时，检验其中的ToFile节点关联的.csv文件是否存在，如果不存在则创建一个csv文件。













